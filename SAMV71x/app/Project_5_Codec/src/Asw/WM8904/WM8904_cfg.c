/****************************************************************************************************/
/**
\file       WM8904_cfg.c
\brief      WM8904 Audio Codec configuration
\author     Jorge V, Gustavo S, Roberto V
\version    1.0
\date       28/Nov/2024
*/
/****************************************************************************************************/

/*****************************************************************************************************
* Include files
*****************************************************************************************************/
/** Own headers */
#include "pio.h"
#include "twi.h" 
#include "WM8904_cfg.h"
/*****************************************************************************************************
* Definition of module wide VARIABLEs 
*****************************************************************************************************/

/****************************************************************************************************
* Declaration of module wide FUNCTIONs 
****************************************************************************************************/

/****************************************************************************************************
* Definition of module wide MACROs / #DEFINE-CONSTANTs 
*****************************************************************************************************/
#define PIN_I2C0  \
		{PIO_PA3A_TWD0, PIOA, ID_PIOA, PIO_PERIPH_A, PIO_DEFAULT}
#define PIN_I2C_CLK0  \
		{PIO_PA4A_TWCK0, PIOA, ID_PIOA, PIO_PERIPH_A, PIO_DEFAULT}
/****************************************************************************************************
* Declaration of module wide TYPEs 
*****************************************************************************************************/

/****************************************************************************************************
* Definition of module wide (CONST-) CONSTANTs 
*****************************************************************************************************/
const Pin pPins[] = { PIN_I2C0, PIN_I2C_CLK0};
/****************************************************************************************************
* Code of module wide FUNCTIONS
*****************************************************************************************************/

/**
 *  \brief Configure the I2C0 Data and Clock wires
 *
 */

void i2c0_configure( void )
{
	PMC_EnablePeripheral(ID_TWIHS0);
	PIO_Configure(pPins, 2);
	TWI_ConfigureMaster( TWIHS0, 100000, BOARD_MCK);
	//TWI_StartWrite(TWIHS0, 0xb, 0, 3,0xa);
}

/*******************************************************************************/
